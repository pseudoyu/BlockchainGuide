## 区块链概念

区块链是一种分布式账本技术，由于是一群人来记账，所以修改这个账本的难度比较高。

单式记账 → 复式记账 → 数字化记账 → 分布式记账

传统中心化数字记账依赖于某个组织的可信度，而区块链是通过共识机制来共同记账，由区块链技术来保障信任机制，具有去中心化、难以篡改、可追溯等特点。

难以篡改是区块链主要特征，相比传统数据库（传统数据库包喊了增删改查），区块链只有增加和查询，是一种“历史记录不可篡改的数据库”。


### 传统数据库 vs. 区块链数据库

**传统数据库**
- 网络
  - 中心化
- 功能
  - Create 创建
  - Read 读取
  - Update 更新
  - Delete 删除
- 可变性
  - 可变
- 权限
  - 中心化
- 透明度
  - 低

**区块链数据库**
- 网络
  - 去中心化
    - 给予节点控制权
    - 必须达成共识
- 功能
  - Read，Append，Validate
    - 具有准确的历史记录
    - 读取和写入更快
    - 必须达成共识
- 可变性
  - 不可变
    - 永久保存历史记录
    - 占据较大存储空间
- 权限
  - 分布式
    - 安全性高
    - 不能撤回交易
- 透明度
  - 高
    - 每个人都能看到
    - 没有权限控制机制


### 是否需要区块链

- 是否需要数据库？
- 是否需要共享写入权限？
- 是否需要多方达成信任？
- 能否脱离第三方机构运作？
- 能否脱离权限控制机制运作？

### 适合区块链的应用场景

1. 需要建立一个共享数据库，且有多方参与
2. 参与业务的各方没有建立起信任
3. 现有业务中信任一个或多个信任机构
4. 现有业务中有加密认证的业务需求
5. 数据需要集成到不同数据库且业务数字化和一致性的需求迫切
6. 对于系统参与者有统一的规则
7. 多方决策是透明的
8. 需要客观、不可改变的记录
9. 非实时性处理业务

如果以下条件则不适合采用

- 数据无法公开
- 数据很大
- 业务规则经常变化
- 需要外部服务来收集、存储数据

### 区块链类型

区块链分为
- 公链：交易是否要公开
- 私链：是否需要其他公司（机构）访问数据
- 联盟链：权限控制

越靠近公有链则对节点的认证和权限管理要求越少、去中心化程度越高

公有链主流共识机制有
- 工作量证明 PoW
- 权益证明 PoS
- 委任权益证明 DPoS

共识机制核心是记账权的争夺，公链的设计思路是让恶意节点的攻击成本远远大于诚实节点的受益。一般采取拜占庭容错机制，解决了节点故障和节点作恶的情况下还是能达成共识。

#### 公链
- 比特币：第一个成功的去中心化数字货币系统
- 以太坊：可编程、可运算的智能合约
- EOS：超越货币、经济的去中心话应用操作系统

#### 联盟链
联盟链节点需要经过认证才能参与到区块链网络，交易速度更快、拓展性更高、并能很好地保护交易隐私。联盟链因为节点数有限且需要认证，为了提升效率，弱化了节点作恶，重点考虑1/3节点故障下系统共识机制的达成，且一般不需要代币作为激励机制，而是每个部门作为记账节点，实现跨部门之间的业务协同给大家带来经济效益。

联盟链的代表是Hyperledger，这是首个面向企业应用场景的开源分布式账本平台，而Hyperledger Fabric是其中发展的最好的子项目。

Hyperledger Fabric定位是面向企业的分布式账本平台，引入了权限管理机制，设计上支持可插拔、可拓展，具备良好的设计架构、完善的文档、清晰的代码。

#### 私有链
而私有链是在某一领域、某一企业运行的区块链，一般用于解决部门间的信任问题。

#### 应用场景
长期来看，公有链和联盟链在技术上会趋于融合，界限也会越来越模糊，一般将需要信任的数据放在公有链上，而一些行业数据、私有数据放在联盟链上。